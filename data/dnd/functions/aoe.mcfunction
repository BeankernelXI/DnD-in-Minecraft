# Assumed context:
# at the center, as the cloud or the looking player
scoreboard players add AOE logfile 1

# we don't currently use the AS
# when we get to it we'll be able to remove "blue_dust" and instead apply tags dynamically based on effect_id

summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[0f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[5f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[10f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[15f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[20f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[25f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[30f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[35f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[40f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[45f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[50f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[55f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[60f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[65f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[70f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[75f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[80f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[85f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[90f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[95f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[100f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[105f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[110f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[115f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[120f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[125f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[130f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[135f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[140f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[145f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[150f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[155f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[160f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[165f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[170f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[175f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[180f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[185f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[190f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[195f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[200f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[205f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[210f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[215f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[220f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[225f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[230f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[235f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[240f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[245f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[250f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[255f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[260f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[265f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[270f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[275f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[280f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[285f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[290f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[295f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[300f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[305f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[310f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[315f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[320f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[325f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[330f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[335f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[340f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[345f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[350f,0f]}
summon minecraft:area_effect_cloud ~ ~ ~ {Duration:2000000,Tags:["aoe","animation","blue_dust"],Rotation:[355f,0f]}

# in theory we can use the scoreboard to loop this and make it general
execute as @e[tag=aoe] at @s run tp ^ ^ ^3

scoreboard players operation @e[tag=aoe] player_id = @s player_id
scoreboard players operation @e[tag=aoe] effect_id = @s effect_id

# and if you clicked they get to live!
execute if score @s click_carrot matches 1.. as @e[tag=target] run tag @s add locked
execute if score @s click_carrot matches 1.. as @e[tag=aoe] run tag @s add locked


tag @e[tag=aoe] remove aoe
